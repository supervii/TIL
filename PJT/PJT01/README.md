##  **파이썬을 활용한 데이터 수집** **I** 프로젝트

### 1. 프로젝트 소개

 본 프로젝트는 영화진흥위원회의 open API에서 데이터를 가져와 영화평점서비스를 만들기 위한 데이터를 수집 및 추출 후 딕셔너리 형태로 만든 다음 새로운 .csv파일을 생성하여 안에 필요한 데이터를 넣어주는 프로젝트이다. 

 개발은 python 3.7.3 버전에서 진행하였고 vs code에 작성하였다. 필수 라이브러리로는 requests, json, decouple, datetime 등을 활용하였다.

 1주일간 배운 python의 기본지식(반복문, 변수, 메소드 등)과 웹 크롤링을 활용하여 위의 프로젝트에 임하였다.



### 2.각각 .py에 대한 설명

####  - 01.py

- 최근 50주간 데이터 중에 주간 박스오피스 TOP10데이터를 수집, 
  - 요청 조건 
    - 주간(월~일)까지 기간의 데이터를 조회.
    2. 조회 기간은 총 50주이며, 기준일(마지막 일자)은 2019년 7월 13일
    - 다양성 영화/상업 영화를 모두 포함
    - 한국/외국 영화를 모두 포함
    5. 모든 상영지역을 포함
  - 결과
    - 수집된 데이터에서 영화 대표코드 , 영화명 , 해당일 누적관객수 를 기록
    -  해당일 누적관객수는 중복 시 최신정보를 반영
    -  해당 결과를 boxoffice.csv 에 저장
- 어려움
  - 한번에 너무 많은 데이터들이 유입되어 작은 양으로 부터 시작했어야함
  - 미리 딕셔너리를 생성하지 않아서 에러 발생
  - 타겟 데이트 타임을 알맞은 포맷으로 변형 및 여러주차를 계산하여 for문 사용
  - 누적 데이터를 최근부터 가져와 날짜를 거꾸로 돌아가면서 데이터를 얻기 때문에, 기존에 이미 영화코드가 들어가 있다면 업데이트를 하지 않는 점
- 결과물

<img width="318" alt="boxoffice" src="https://user-images.githubusercontent.com/52685245/61588523-f350fc00-abd7-11e9-8dae-e10fc8101249.png">



####  - 02.py

- 위에서 수집한 영화 대표코드를 활용하여 상세 정보를 수집 
  - 요청 조건 
    - 영화별로 다음과 같은 내용을 저장
      - 영화 대표코드 , 영화명(국문) , 영화명(영문) , 영화명(원문) , 관람등급 , 개봉연도 , 상영시간 , 장르 , 감독명
  - 결과
    -  해당 결과를 movie.csv에 저장
- 어려움
  - 01.py 와의 데이터 가져오기 방식과는 달리 csv파일에서 데이터를 추출
  - 가져온 데이터를 먼저 리스트형식으로 만들어서 그 변수를 활용해 다시 API요청
  - 가져온 데이터 중에 공백 문자에 대한 결과 처리와 내부 데이터의 혼잡성으로 인덱스 지정
- 결과물

<img width="843" alt="movies" src="https://user-images.githubusercontent.com/52685245/61588531-1e3b5000-abd8-11e9-84ac-b0226a617a38.png">



####  - 03.py

- 위에서 수집한 영화 감독정보를 활용하여 상세 정보를 수집 
  - 요청 조건 
    - 영화인명으로 조회
    - 영화인별로 다음과 같은 내용을 저장
      - 영화인 코드 , 영화인명, 분야 , 필모리스트
  - 결과
    -  해당 결과를 director.csv에 저장 , 결과가 없을시 None
- 어려움
  - url 데이터 요청예시를 잘못 이해하여시작부터 난항
  - 동명이인과 repRoleNm을 통해 감독만 찾아오기
  - 가져온 데이터를 잘못처리하여 지속적인 AttributeError
    - 가져온 데이터 형식을 확인하였을때 분명이 dict 였지만 .get을 사용했을 때 str에는 get을 사용할수 없다고 나타남
- 결과물

<img width="668" alt="director" src="https://user-images.githubusercontent.com/52685245/61588537-3317e380-abd8-11e9-9ae9-d4738b57cd5d.png">





### 3. 프로젝트를 통해 느낀점

 처음으로 임하는 프로젝트에 대한 기대와 불안감이 커서 배웠던 내용들을 제때 활용하지 못하였다. 하지만 웹크롤링과 python의 기본 문법을 활용하여 처음으로 프로젝트를 완성하였고 팀원들과의 상의와 구글링의 중요성을 다시 한번 깨달았다. 이번에 어려웠던 점을 다시 숙지하여 앞으로 프로젝트에 있어서 지금 보다 더 나은 개발자의 모습을 보이고 싶다.  

